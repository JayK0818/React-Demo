{"ast":null,"code":"import { TODO_ADD, TODO_TOGGLE, TODO_DELETE, TODO_VISIBILITY, TODO_CLEAR, TODO_RESET } from '../constant/todo';\nconst initial_state = {\n  list: [{\n    id: 1,\n    text: '吃饭睡觉打豆豆',\n    completed: false\n  }, {\n    id: 2,\n    text: '学习React 和 Redux',\n    completed: true\n  }, {\n    id: 3,\n    text: '学习Vue 和 Pinia',\n    completed: false\n  }],\n  filter: 'All'\n};\n\nfunction reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial_state;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    payload,\n    type\n  } = action;\n  const {\n    list\n  } = state;\n\n  switch (type) {\n    case TODO_ADD:\n      {\n        const todo_list = list.concat(payload);\n        return { ...state,\n          list: todo_list\n        };\n      }\n\n    case TODO_TOGGLE:\n      {\n        const todo_list = list.map(todo => {\n          if (todo.id === payload) return { ...todo,\n            completed: !todo.completed\n          };\n          return todo;\n        });\n        return { ...state,\n          list: todo_list\n        };\n      }\n\n    case TODO_DELETE:\n      {\n        const todo_list = list.filter(todo => todo.id !== payload);\n        return { ...state,\n          list: todo_list\n        };\n      }\n\n    case TODO_VISIBILITY:\n      {\n        return { ...state,\n          filter: payload\n        };\n      }\n\n    case TODO_CLEAR:\n      {\n        return { ...state,\n          list: []\n        };\n      }\n\n    case TODO_RESET:\n      {\n        return { ...initial_state\n        };\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"names":["TODO_ADD","TODO_TOGGLE","TODO_DELETE","TODO_VISIBILITY","TODO_CLEAR","TODO_RESET","initial_state","list","id","text","completed","filter","reducer","state","action","payload","type","todo_list","concat","map","todo"],"sources":["/Users/jinkang/Desktop/React-Demo/src/store/reducer/todo.js"],"sourcesContent":["import { TODO_ADD, TODO_TOGGLE, TODO_DELETE, TODO_VISIBILITY, TODO_CLEAR, TODO_RESET } from '../constant/todo'\n\nconst initial_state = {\n  list: [{\n    id: 1,\n    text: '吃饭睡觉打豆豆',\n    completed: false\n  }, {\n    id: 2,\n    text: '学习React 和 Redux',\n    completed: true\n  },{\n    id: 3,\n    text: '学习Vue 和 Pinia',\n    completed: false\n  }],\n  filter: 'All'\n}\n\nfunction reducer (state = initial_state, action) {\n  const { payload, type } = action\n  const { list } = state\n  switch (type) {\n    case TODO_ADD: {\n      const todo_list = list.concat(payload)\n      return {\n        ...state,\n        list: todo_list\n      }\n    }\n    case TODO_TOGGLE: {\n      const todo_list = list.map(todo => {\n        if(todo.id === payload) return {...todo, completed: !todo.completed}\n        return todo\n      })\n      return {\n        ...state,\n        list: todo_list\n      }\n    }\n    case TODO_DELETE: {\n      const todo_list = list.filter(todo => todo.id !== payload)\n      return {\n        ...state,\n        list: todo_list\n      }\n    }\n    case TODO_VISIBILITY: {\n      return {\n        ...state,\n        filter: payload\n      }\n    }\n    case TODO_CLEAR: {\n      return {\n        ...state,\n        list: []\n      }\n    }\n    case TODO_RESET: {\n      return { ...initial_state }\n    }\n    default:\n      return state\n  }\n}\n\nexport default reducer\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,WAAhC,EAA6CC,eAA7C,EAA8DC,UAA9D,EAA0EC,UAA1E,QAA4F,kBAA5F;AAEA,MAAMC,aAAa,GAAG;EACpBC,IAAI,EAAE,CAAC;IACLC,EAAE,EAAE,CADC;IAELC,IAAI,EAAE,SAFD;IAGLC,SAAS,EAAE;EAHN,CAAD,EAIH;IACDF,EAAE,EAAE,CADH;IAEDC,IAAI,EAAE,iBAFL;IAGDC,SAAS,EAAE;EAHV,CAJG,EAQJ;IACAF,EAAE,EAAE,CADJ;IAEAC,IAAI,EAAE,eAFN;IAGAC,SAAS,EAAE;EAHX,CARI,CADc;EAcpBC,MAAM,EAAE;AAdY,CAAtB;;AAiBA,SAASC,OAAT,GAAiD;EAAA,IAA/BC,KAA+B,uEAAvBP,aAAuB;EAAA,IAARQ,MAAQ;EAC/C,MAAM;IAAEC,OAAF;IAAWC;EAAX,IAAoBF,MAA1B;EACA,MAAM;IAAEP;EAAF,IAAWM,KAAjB;;EACA,QAAQG,IAAR;IACE,KAAKhB,QAAL;MAAe;QACb,MAAMiB,SAAS,GAAGV,IAAI,CAACW,MAAL,CAAYH,OAAZ,CAAlB;QACA,OAAO,EACL,GAAGF,KADE;UAELN,IAAI,EAAEU;QAFD,CAAP;MAID;;IACD,KAAKhB,WAAL;MAAkB;QAChB,MAAMgB,SAAS,GAAGV,IAAI,CAACY,GAAL,CAASC,IAAI,IAAI;UACjC,IAAGA,IAAI,CAACZ,EAAL,KAAYO,OAAf,EAAwB,OAAO,EAAC,GAAGK,IAAJ;YAAUV,SAAS,EAAE,CAACU,IAAI,CAACV;UAA3B,CAAP;UACxB,OAAOU,IAAP;QACD,CAHiB,CAAlB;QAIA,OAAO,EACL,GAAGP,KADE;UAELN,IAAI,EAAEU;QAFD,CAAP;MAID;;IACD,KAAKf,WAAL;MAAkB;QAChB,MAAMe,SAAS,GAAGV,IAAI,CAACI,MAAL,CAAYS,IAAI,IAAIA,IAAI,CAACZ,EAAL,KAAYO,OAAhC,CAAlB;QACA,OAAO,EACL,GAAGF,KADE;UAELN,IAAI,EAAEU;QAFD,CAAP;MAID;;IACD,KAAKd,eAAL;MAAsB;QACpB,OAAO,EACL,GAAGU,KADE;UAELF,MAAM,EAAEI;QAFH,CAAP;MAID;;IACD,KAAKX,UAAL;MAAiB;QACf,OAAO,EACL,GAAGS,KADE;UAELN,IAAI,EAAE;QAFD,CAAP;MAID;;IACD,KAAKF,UAAL;MAAiB;QACf,OAAO,EAAE,GAAGC;QAAL,CAAP;MACD;;IACD;MACE,OAAOO,KAAP;EAzCJ;AA2CD;;AAED,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}